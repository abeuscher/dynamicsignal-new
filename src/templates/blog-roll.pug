extends inc/page.pug
block template
  :php
    /*
    Template Name: Blog View All
    */
block nav
  include ./inc/header.pug
block content
  :php
    $breadcrumbs = [];
    array_push($breadcrumbs,array(
      "title"=>"Our Company",
      "link"=>"/company/"
    ));
    array_push($breadcrumbs,array(
      "title"=>"Blog",
      "link"=>"/blog/"
    ));
    $override_title = "All Entries";
  section.top-section-interior
    .container
      .row
        .col-md-12
          include ./inc/breadcrumbs.pug
          h1
            :php
              echo $override_title;
  section
    .container
      .row
        .col-md-12
          :php
            $paged = ( get_query_var( 'paged' ) ) ? get_query_var( 'paged' ) : 1;
            $count = 0;
            $page_object = get_queried_object();
            $query = new WP_Query( array('post_type' => 'post','paged' => $paged,'posts_per_page' => 10) );
            if( $query->have_posts() ) {
                while( $query->have_posts() ) {
                    $query->the_post();
                    printf("<a class='blog-tile-wide' href='%s'><div class='thumb' data-bg='%s'></div><div class='description'><h3>%s</h3><div class='author-block'>%s</div><div class='excerpt'>%s</div></div></a>",get_permalink(),get_the_post_thumbnail_url(),get_the_title(),get_the_author(),get_the_excerpt());
                      $count++;
                      }}
  section.container.pagination
    .row
      .col-md-12
        :php
          $big = 999999999;
          echo paginate_links( array(
          	'base' => str_replace( $big, '%#%', esc_url( get_pagenum_link( $big ) ) ),
          	'format' => '?paged=%#%',
          	'current' => max( 1, get_query_var('paged') ),
          	'total' => $query->max_num_pages
          ) );
